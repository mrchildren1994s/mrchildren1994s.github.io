<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ’²å…‹ç‰Œç™¼ç‰Œæ©Ÿæ¨¡æ“¬</title>
<a href="../å­ç›®éŒ„/å­¸ç¿’æ­·ç¨‹.html" class="back-link">â† å›ã€å­¸ç¿’æ­·ç¨‹ã€</a>
<style>

        body {

            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

            display: flex;

            flex-direction: column;

            align-items: center;

            justify-content: center;

            min-height: 100vh;

            margin: 0;

            background-color: #f0f4f7;

        }

        h1 { color: #2c3e50; margin-bottom: 20px; }

        button {

            padding: 12px 25px;

            font-size: 18px;

            margin: 10px;

            cursor: pointer;

            background-color: #3498db;

            color: white;

            border: none;

            border-radius: 8px;

            transition: background-color 0.3s, transform 0.1s;

            font-weight: bold;

            box-shadow: 0 4px 8px rgba(0,0,0,0.1);

        }

        button:hover { background-color: #2980b9; transform: translateY(-2px); }

        #output {

            margin-top: 30px;

            width: 80%;

            max-width: 800px;

            padding: 20px;

            border: 1px dashed #e74c3c; /* ç´…è‰²è™›ç·šå¼·èª¿ */

            background-color: #fff8e1; /* æ·ºé»ƒè‰²èƒŒæ™¯ */

            border-radius: 10px;

            text-align: center;

            font-size: 20px;

            color: #34495e;

        }

        .result-section { margin-bottom: 10px; font-weight: bold; }

        .card-container {

            display: flex;

            flex-wrap: wrap;

            justify-content: center;

            gap: 10px;

            margin-top: 15px;

        }

        .card {

            padding: 10px 15px;

            border: 1px solid #bdc3c7;

            border-radius: 5px;

            background-color: #ffffff;

            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);

            font-family: 'Courier New', Courier, monospace;

            font-size: 18px;

            min-width: 100px;

            text-align: center;

        }

        /* å€åˆ†ç´…é»‘èŠ±è‰² */

        .red { color: #e74c3c; } 

        .black { color: #2c3e50; }
</style>
</head>
<body>
<h1>ğŸƒ æ’²å…‹ç‰Œç™¼ç‰Œæ©Ÿæ¨¡æ“¬</h1>
<button onclick="dealCards()">ç™¼ç‰Œ (æŠ½å– 5 å¼µ)</button>
<button onclick="dealCards(10)">ç™¼ç‰Œ (æŠ½å– 10 å¼µ)</button>
<div id="output">
<p class="result-section">ç‹€æ…‹ï¼šé»æ“ŠæŒ‰éˆ•ç™¼ç‰Œã€‚</p>
</div>
<script>

        // è¨­å®šè¦æŠ½å–çš„æ•¸å­—æ•¸é‡ (é è¨­ç‚º 5 å¼µç‰Œ)

        const DEFAULT_DRAW_COUNT = 5; 

        /**

         * å°‡ 1-52 çš„æ•¸å­—è½‰æ›ç‚ºå¡ç‰Œçš„èŠ±è‰²å’Œé»æ•¸

         * @param {number} num - 1 åˆ° 52 çš„æ•¸å­—

         * @returns {object} åŒ…å«èŠ±è‰²ã€é»æ•¸å’Œ CSS é¡è‰²çš„ç‰©ä»¶

         */

        function getCardValue(num) {

            const suits = ['é»‘æ¡ƒ', 'ç´…å¿ƒ', 'æ–¹å¡Š', 'æ¢…èŠ±']; // é †åºï¼šSpades, Hearts, Diamonds, Clubs

            const ranks = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];

            // ç”±æ–¼èŠ±è‰²æ˜¯ä»¥ 13 å¼µç‚ºä¸€å€‹å¾ªç’°ï¼Œæˆ‘å€‘ä½¿ç”¨ (num - 1)

            const suitIndex = Math.floor((num - 1) / 13);

            const rankIndex = (num - 1) % 13;

            const suit = suits[suitIndex];

            const rank = ranks[rankIndex];

            const colorClass = (suit === 'ç´…å¿ƒ' || suit === 'æ–¹å¡Š') ? 'red' : 'black';

            return { suit, rank, cardName: `${suit} ${rank}`, colorClass };

        }

        /**

         * å‰µå»ºåŒ…å« 1 åˆ° 52 çš„åˆå§‹ç‰Œçµ„é™£åˆ—

         */

        function createDeck() {

            return Array.from({ length: 52 }, (_, i) => i + 1);

        }

        /**

         * ä½¿ç”¨ Fisher-Yates æ¼”ç®—æ³•æ‰“äº‚ç‰Œçµ„

         * @param {number[]} deck - ç‰Œçµ„é™£åˆ—

         * @returns {number[]} æ‰“äº‚å¾Œçš„ç‰Œçµ„

         */

        function shuffleDeck(deck) {

            let shuffled = [...deck];

            for (let i = shuffled.length - 1; i > 0; i--) {

                const j = Math.floor(Math.random() * (i + 1));

                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];

            }

            return shuffled;

        }

        /**

         * ç™¼ç‰Œä¸¦é¡¯ç¤ºçµæœ

         * @param {number} [count=DEFAULT_DRAW_COUNT] - è¦æŠ½å–çš„ç‰Œæ•¸

         */

        function dealCards(count = DEFAULT_DRAW_COUNT) {

            // 1. å»ºç«‹åˆå§‹ç‰Œçµ„ (1-52)

            const initialDeck = createDeck();

            // 2. æ‰“äº‚ç‰Œçµ„ (æ´—ç‰Œ)

            const shuffledDeck = shuffleDeck(initialDeck);

            // 3. æŠ½å–ç‰Œ

            const drawnNumbers = shuffledDeck.slice(0, count);

            // 4. è½‰æ›ç‚ºå¡ç‰Œç‰©ä»¶ä¸¦æ’åº (ä¾æ•¸å­—å¤§å°æ’åºï¼Œå³ä¾èŠ±è‰²å’Œé»æ•¸é †åº)

            const drawnCards = drawnNumbers.map(num => getCardValue(num));

            // 5. æ’åºï¼šä¾åŸå§‹æ•¸å­—å¤§å°ï¼ˆèŠ±è‰²é †åºï¼šé»‘æ¡ƒ > ç´…å¿ƒ > æ–¹å¡Š > æ¢…èŠ±ï¼›é»æ•¸ A-Kï¼‰

            // æ³¨æ„ï¼šé€™è£¡çš„æ’åºæ˜¯åŸºæ–¼ 1-52 çš„æ•¸å­—ï¼Œä¸æ˜¯å–®ç´”çš„é»æ•¸ A=1, 2=2...

            const sortedCards = [...drawnNumbers]

                                .sort((a, b) => a - b) // ä¾æ•¸å­—å¾å°åˆ°å¤§æ’åº

                                .map(num => getCardValue(num)); // å†è½‰æ›ç‚ºå¡ç‰Œç‰©ä»¶

            // 6. è¨ˆç®—æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼ˆåŸºæ–¼ 1-52 æ•¸å­—ï¼‰

            // æ’åºå¾Œçš„ sortedCards ä¸­ï¼Œæœ€å°çš„æ•¸å­—åœ¨ç¬¬ä¸€å€‹ï¼Œæœ€å¤§çš„åœ¨æœ€å¾Œä¸€å€‹

            const minValueCard = sortedCards[0];

            const maxValueCard = sortedCards[sortedCards.length - 1];

            // 7. ç”Ÿæˆ HTML é¡¯ç¤º

            const outputDiv = document.getElementById('output');

            // ç¹ªè£½å¡ç‰Œåˆ—è¡¨

            const cardHtml = drawnCards.map(card => 

                `<div class="card ${card.colorClass}">${card.cardName}</div>`

            ).join('');

            outputDiv.innerHTML = `
<h2>ç™¼å‡º ${count} å¼µç‰Œ</h2>
<div class="card-container">${cardHtml}</div>
<hr style="width: 70%; margin: 20px auto;">
<p class="result-section">
<span class="black">ä¾æ•¸å­—é †åºæ’åº (ç”±å°åˆ°å¤§):</span> 
<div class="card-container">

                        ${sortedCards.map(card => `<div class="card ${card.colorClass}">${card.cardName}</div>`).join('')}
</div>
</p>
<p class="result-section">

                    æœ€å°å€¼ (æ•¸å­—æœ€å°): <span class="highlighted">${minValueCard.cardName}</span>
</p>
<p class="result-section">

                    æœ€å¤§å€¼ (æ•¸å­—æœ€å¤§): <span class="highlighted">${maxValueCard.cardName}</span>
</p>

            `;

            // å½ˆå‡ºè¦–çª—é¡¯ç¤ºç°¡æ½”çµæœ

            const sortedNames = sortedCards.map(c => c.cardName);

            alert(`

                ç™¼ç‰Œçµæœ (å…± ${count} å¼µ):

                æ’åºçµæœ: [${sortedNames.join(', ')}]

                ---------------------------

                æœ€å°å€¼ (æ•¸å­—): ${minValueCard.cardName}

                æœ€å¤§å€¼ (æ•¸å­—): ${maxValueCard.cardName}

            `);

        }
</script>
</body>
</html>
 